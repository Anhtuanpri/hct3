<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="theme-color" content="#0f1226"/>
  <title>H·ªá th·ªëng ƒëang b·∫£o tr√¨</title>
  <meta name="description" content="Th√¥ng b√°o b·∫£o tr√¨ h·ªá th·ªëng"/>

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0f1226; --bg2:#101827;
      --accent:#7c3aed; --accent2:#22d3ee;
      --text:#e5e7eb; --muted:#94a3b8;
      --glass:rgba(255,255,255,.08); --glass2:rgba(255,255,255,.06);
      --safeL:max(env(safe-area-inset-left), 12px);
      --safeR:max(env(safe-area-inset-right),12px);
      --safeT:max(env(safe-area-inset-top), 12px);
      --safeB:max(env(safe-area-inset-bottom),12px);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 85% 12%, rgba(124,58,237,.25), transparent 60%),
        radial-gradient(800px 600px at 10% 92%, rgba(34,211,238,.22), transparent 55%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      display:grid; place-items:center;
      padding: clamp(12px, 2.5vw, 32px);
      overflow-x: hidden;
    }

    /* ---------- layout container ---------- */
    .wrap{
      width:min(1080px, 100%);
      padding-inline: clamp(10px, 2.2vw, 24px);
    }
    .card{
      backdrop-filter: blur(16px) saturate(110%);
      background:linear-gradient(180deg,var(--glass),var(--glass2));
      border:1px solid rgba(255,255,255,.12);
      border-radius:28px; padding: clamp(16px, 2.4vw, 28px);
      box-shadow: 0 20px 60px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
    }

    header{display:flex; align-items:center; gap:12px; margin-bottom:10px}
    .badge{
      padding:6px 12px; border-radius:999px; font-size:12px; letter-spacing:.04em;
      text-transform:uppercase; font-weight:800;
      background:linear-gradient(90deg, rgba(124,58,237,.18), rgba(34,211,238,.18));
      border:1px solid rgba(255,255,255,.18); color:#dbeafe;
    }

    h1{
      margin:.4rem 0 .2rem;
      font-family:"Space Grotesk", Inter, sans-serif;
      font-size:clamp(26px, 4.8vw, 44px); line-height:1.1;
      background:linear-gradient(90deg,#fff,#c7d2fe 45%,#a5f3fc);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-align: left;
    }
    p.lead{margin:.25rem 0 .9rem; color:var(--muted); font-size:clamp(14px, 2.2vw, 18px)}

    /* ---------- hero grid (c√¢n ƒë·ªëi, kh√¥ng l·∫•p) ---------- */
    .hero{
      display:grid; align-items:center; gap: clamp(16px, 2.5vw, 24px);
      grid-template-columns: minmax(280px, 1.1fr) minmax(260px, .9fr);
    }
    @media (max-width: 860px){
      .hero{grid-template-columns: 1fr}
      .art{order:-1}
    }

    /* ---------- Illustration ---------- */
    .art{display:grid; place-items:center; padding: clamp(8px, 2vw, 20px)}
    .art svg{width:min(92%, 420px); height:auto; filter: drop-shadow(0 20px 40px rgba(124,58,237,.25))}

    /* ---------- countdown ---------- */
    .countdown{display:flex; flex-wrap:wrap; gap:10px; margin:.6rem 0 .2rem}
    .slot{
      min-width:82px; text-align:center; padding:10px 12px; border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      flex: 0 1 auto;
    }
    .slot b{display:block; font-size:28px; font-variant-numeric:tabular-nums; letter-spacing:.5px}
    .slot span{font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.12em}

    /* ---------- progress ---------- */
    .progress{margin:14px 0 6px; height:12px; background:rgba(255,255,255,.08); border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,.1)}
    .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent2)); box-shadow:0 0 20px rgba(34,211,238,.35) inset}
    .status{display:flex; justify-content:space-between; align-items:center; font-size:13px; color:#cbd5e1; gap:8px}

    /* ---------- actions ---------- */
    .actions{display:flex; flex-wrap:wrap; gap:12px; margin-top:16px}
    .btn{
      appearance:none; border:1px solid rgba(255,255,255,.16);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      color:#fff; padding:12px 16px; border-radius:14px; font-weight:600; letter-spacing:.2px;
      cursor:pointer; text-decoration:none; display:inline-flex; align-items:center; gap:10px;
      transition:transform .06s ease, border-color .2s ease, background .2s ease;
    }
    .btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.28)}
    .btn:active{transform:translateY(0)}
    .btn.primary{background:linear-gradient(90deg, rgba(124,58,237,.5), rgba(34,211,238,.5)); border-color:transparent}

    footer{margin-top:18px; display:flex; justify-content:space-between; gap:12px; color:var(--muted); font-size:12px; flex-wrap:wrap}
    footer code{background:rgba(0,0,0,.24); padding:2px 6px; border-radius:6px; border:1px solid rgba(255,255,255,.08)}

    /* deco */
    .spin-slow{animation:spin 10s linear infinite}
    .spin{animation:spin 6s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header><span class="badge">B·∫£o tr√¨ ƒë·ªãnh k·ª≥</span></header>

      <div class="hero">
        <div class="copy">
          <h1>H·ªá th·ªëng t·∫°m th·ªùi ngo·∫°i tuy·∫øn</h1>
          <p class="lead">Ch√∫ng t√¥i ƒëang n√¢ng c·∫•p h·∫° t·∫ßng ƒë·ªÉ mang l·∫°i t·ªëc ƒë·ªô v√† ƒë·ªô ·ªïn ƒë·ªãnh t·ªët h∆°n. C·∫£m ∆°n b·∫°n ƒë√£ ki√™n nh·∫´n!</p>

          <!-- Countdown -->
          <div class="countdown" role="group" aria-label="Th·ªùi gian c√≤n l·∫°i">
            <div class="slot" aria-live="polite"><b id="d">00</b><span>Ng√†y</span></div>
            <div class="slot" aria-live="polite"><b id="h">00</b><span>Gi·ªù</span></div>
            <div class="slot" aria-live="polite"><b id="m">00</b><span>Ph√∫t</span></div>
            <div class="slot" aria-live="polite"><b id="s">00</b><span>Gi√¢y</span></div>
          </div>

          <!-- Progress -->
          <div class="progress" aria-label="Ti·∫øn ƒë·ªô b·∫£o tr√¨"><div id="bar" class="bar"></div></div>
          <div class="status"><span id="statusText">ƒêang tri·ªÉn khai b·∫£n c·∫≠p nh·∫≠t‚Ä¶</span><span id="percent">0%</span></div>

          <!-- Actions -->
          <div class="actions">
            <a class="btn primary" href="#" onclick="location.reload()" aria-label="T·∫£i l·∫°i trang">
              üîÑ Th·ª≠ t·∫£i l·∫°i
            </a>
            <a class="btn" href="mailto:support@example.com?subject=H%E1%BB%97%20tr%E1%BB%A3%20b%E1%BA%A3o%20tr%C3%AC">‚úâÔ∏è Li√™n h·ªá h·ªó tr·ª£</a>
            <a class="btn" href="/indextest.html">üìä Tr·∫°ng th√°i h·ªá th·ªëng</a>
          </div>
        </div>

        <div class="art" aria-hidden="true">
          <!-- Neon gears -->
          <svg viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g1" x1="0" x2="1">
                <stop offset="0%" stop-color="#7c3aed"/><stop offset="100%" stop-color="#22d3ee"/>
              </linearGradient>
              <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="6" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
            </defs>
            <circle cx="180" cy="180" r="120" fill="none" stroke="url(#g1)" stroke-width="2" opacity=".35"/>
            <g transform="translate(180 180)">
              <g class="spin-slow" filter="url(#glow)">
                <path d="M0-80 l10 0 6 14 14 6 0 10 -14 6 -6 14 -10 0 -6 -14 -14 -6 0 -10 14 -6z" fill="url(#g1)" opacity=".7"/>
              </g>
              <g class="spin" transform="scale(.65)">
                <path d="M0-80 l10 0 6 14 14 6 0 10 -14 6 -6 14 -10 0 -6 -14 -14 -6 0 -10 14 -6z" fill="url(#g1)" opacity=".9"/>
              </g>
            </g>
            <circle cx="180" cy="180" r="4" fill="#fff" opacity=".9"/>
          </svg>
        </div>
      </div>

      <footer>
        <div>ETA d·ª± ki·∫øn: <code id="eta">‚Äî</code></div>
        <div>¬© <span id="year"></span> Your Company</div>
      </footer>
    </div>
  </div>

  <script>
    // ====== C·∫•u h√¨nh nhanh ======
    const DEFAULT_DURATION_MS = 24 * 60 * 60 * 1000; // 24h
    const STORAGE_KEY = "maint_end_epoch";

    // Cho ph√©p override b·∫±ng query ?mins=90 (t√πy ch·ªçn)
    const url = new URL(location.href);
    const qmins = parseInt(url.searchParams.get("mins") || "", 10);
    const overrideMs = Number.isFinite(qmins) && qmins > 0 ? qmins * 60 * 1000 : null;

    // L·∫•y endTime t·ª´ localStorage (epoch ms). N·∫øu h·∫øt h·∫°n ho·∫∑c ch∆∞a c√≥ -> ƒë·∫∑t m·ªõi.
    function getOrInitEnd(){
      const now = Date.now();
      const stored = parseInt(localStorage.getItem(STORAGE_KEY) || "", 10);
      if (Number.isFinite(stored) && stored > now) return stored;
      const end = now + (overrideMs ?? DEFAULT_DURATION_MS);
      localStorage.setItem(STORAGE_KEY, String(end));
      return end;
    }

    let maintenanceEnd = getOrInitEnd();
    const maintenanceStart = Date.now(); // ch·ªâ ƒë·ªÉ t√≠nh progress t∆∞∆°ng ƒë·ªëi

    // DOM
    const d   = document.getElementById('d');
    const h   = document.getElementById('h');
    const m   = document.getElementById('m');
    const s   = document.getElementById('s');
    const bar = document.getElementById('bar');
    const pct = document.getElementById('percent');
    const eta = document.getElementById('eta');
    const statusText = document.getElementById('statusText');

    const fmt2 = n => String(Math.max(0, Math.floor(n))).padStart(2,'0');

    function update(){
      // ƒê·ªçc l·∫°i end m·ªói l·∫ßn (ph√≤ng khi b·∫°n ƒë·ªïi tr√™n tab kh√°c)
      const endStored = parseInt(localStorage.getItem(STORAGE_KEY) || "", 10);
      if (Number.isFinite(endStored)) maintenanceEnd = endStored;

      const now   = Date.now();
      const left  = Math.max(0, maintenanceEnd - now);
      const total = Math.max(1, maintenanceEnd - maintenanceStart); // tr√°nh 0

      const days = Math.floor(left / 86400000);
      const hrs  = Math.floor((left % 86400000) / 3600000);
      const mins = Math.floor((left % 3600000) / 60000);
      const secs = Math.floor((left % 60000) / 1000);

      d.textContent = fmt2(days);
      h.textContent = fmt2(hrs);
      m.textContent = fmt2(mins);
      s.textContent = fmt2(secs);

      let progress = Math.min(1, 1 - (left / total));
      let shown = progress;

      // Kh√≥a <= 94% cho ƒë·∫øn khi xong
      if (left > 0 && progress < 0.94) {
        shown = Math.min(0.94, Math.pow(progress, 0.88));
      } else if (left === 0) {
        shown = 1;
      }

      const p = Math.round(shown * 100);
      bar.style.width = p + "%";
      pct.textContent = p + "%";

      eta.textContent = new Date(maintenanceEnd).toLocaleString();

      if (left === 0) {
        statusText.textContent = "ƒê√£ ho√†n t·∫•t b·∫£o tr√¨. Chu·∫©n b·ªã tr·ª±c tuy·∫øn l·∫°i!";
      }
    }

    // C·∫≠p nh·∫≠t nh·ªãp m∆∞·ª£t + tr√°nh d√πng setInterval d√†y ƒë·∫∑c
    update();
    const timer = setInterval(update, 1000);
    document.addEventListener("visibilitychange", ()=>{ if (!document.hidden) update(); });

    // Hi·ªán nƒÉm
    document.getElementById('year').textContent = new Date().getFullYear();

    // (tu·ª≥ ch·ªçn) API nh·ªè ƒë·ªÉ reset nhanh tr√™n m√°y dev: g√µ resetMaint() tr√™n console
    window.resetMaint = (mins=24*60)=>{
      const end = Date.now() + mins*60*1000;
      localStorage.setItem(STORAGE_KEY, String(end));
      update();
    };
  </script>
</body>
</html>
